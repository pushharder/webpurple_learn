---
title: Node.js
templateKey: 'article-page'
order: 1
---
# [Node.js](https://nodejs.org/en/)

<p align="center">
    <img
        width='400'
        title='Node.js logo'
        src="logo.png"
    />
</p>

**Node.js** — это **среда выполнения** JavaScript, построенная на JavaScript-движке V8 из Chrome, предоставляющая возможность выполнения JavaScipt-кода на сервере. В основе Node.js лежит событийно-управляемая модель с неблокирующими операциями I/O, что делает её легкой и эффективной.

> Важно понять, что Node — это не веб-сервер. Сам по себе он ничего не делает. Это не Apache. Там нет конфиг-файла, в котором указывается путь до HTML-файлов. Если вам нужен HTTP-сервер, вам нужно написать HTTP-сервер (с помощью встроенных библиотек). Node.js — это просто ещё один способ выполнять код на вашем компьютере. — "FRONTENDER MAGAZINE"

## Неблокирующий I/O

Node.js внутри себя реализует неблокирующий ввод-вывод, несмотря на то, что JavaScript является однопоточным, благодаря внутреннему циклу событий (**Event Loop**) путем выгрузки операций в ядро системы, когда это возможно.

Поскольку большинство современных ядер являются многопоточными, они могут обрабатывать несколько операций, выполняемых в фоновом режиме. Когда одна из этих операций завершается, ядро сообщает Node.js, что соответствующая этой операции функция обратного вызова (_callback_) может быть добавлена в очередь опроса, чтобы в конечном итоге быть выполненной.

## История

Node.js разработал Райан Даль (Ryan Dahl) в 2009 году после двух лет экспериментирования над созданием серверных веб-компонентов. В ходе своих исследований он пришёл к выводу, что вместо традиционной модели параллелизма на основе потоков следует обратиться к событийно-ориентированным системам. Эта модель была выбрана из-за простоты, низких накладных расходов (по сравнению с идеологией «один поток на каждое соединение») и быстродействия. Целью Node является «простой способ построения масштабируемых сетевых серверов».

В декабре 2014 года был создан форк io.js.

В мае 2015 года было принято решение о слиянии io.js и Node.js и дальнейшем развитии под эгидой Node.js Foundation.

## Установка и начало работы Node.js

Скачать стабильную и последнюю версию можно с [официального сайта](https://nodejs.org/en/download/).
Следует отметить, что Node.js поставляется с пакетным менеджером `npm`, который будет рассмотрен подробнее далее.

> Менеджер пакетов — набор программного обеспечения, позволяющего управлять процессом установки, удаления, настройки и обновления различных компонентов программного обеспечения.

После скачивания и установки, можно начать работу с Node.js в консоли введя команду `node`

```bash
$ node
> console.log('Hello world')
```

После чего при нажатии `Enter` в консоль выведется

```bash
'Hello world'
undefined
```

Таким образом с помощью команды `node` можно войти в среду исполнения JavaScript, схожую с той, что мы можем наблюдать в браузере, открыв консоль.

Для выхода из данной среды выполнения необходимо нажать `^C` или ввести команду `.exit`.

Также с помощью команд `node -v` и `npm -v` можно проверить версию установленного Node.js и пакетного менеджера (команды выполняются непосредственно в консоли, не в среде выполнения JavaScript).

Для выполнения JavaScript кода, находящегося в файле c расширением `.js`, используется команда `node <имя_файла>.js`.

# [ :link:](https://www.npmjs.com/) NPM

<p align="center">
    <img
        width='400'
        title='Node.js logo'
        src="https://docs.npmjs.com/images/npm.svg"
    />
</p>

**NPM (Node.js Package Manager)** — менеджер пакетов, входящий в состав Node.js. Он позволяет устанавливать различные библиотеки и компоненты для их дальнейшего использования в Node.js - проекте. Реестр ПО npm содержит более 600.000 пакетов.

Для выполнения команд NPM используется либо утилита `npm`.

Чтобы добавить зависимости в проект, необходимо создать файл конфигурации — `package.json`. Для этого можно воспользоваться командой `npm init`, либо `npm init -y` для быстрого создания.

Установка пакета производится при помощи возможных команд:

1.  Установка пакета глобально

    ```bash
    npm install -g <packagename>
    ```

2.  Установка пакета локально в проект в dependencies (зависимости используемые непосредственно при исполнении проекта)

    ```bash
    npm install --save <packagename>
    ```

3.  Установка пакета локально в проект в devDependencies (зависимости которые используются в процессе разработки проекта - линтеры, тесты, средства транспилляция, минификации)

    ```bash
    npm install --save-dev <packagename>
    ```

Прим.

```bash
npm install lodash --save
```

С помощью этой команды будет загружена библиотека `lodash` и помещена в папку node_modules. Это папка, в которой будут находиться все внешние зависимости. Как правило данная папка не включается в итоговый репозиторий проекта. Для этого строка со значением `node_modules` помещается в файл `.gitignore`.

В результате этой команды в `package.json` добавилось новое свойство _dependencies_:

```json
"dependencies": {
    "lodash": "4.6.1"
}
```

Это означает, что lodash версии 4.6.1 теперь установлен и готов к использованию (для версионирования пакетов NPM использует [правила SemVer](http://semver.org/)).

Также по-умолчанию начиная с NPM 5 при установке модулей npm создает `package-lock.json` - файл, сохраняющий конкретные версии зависимостей и гарантирующий, что на другой машине будет установлен тот же самый пакет; при этом диапазон допустимых версий в файле `package.json` сохраняется.
